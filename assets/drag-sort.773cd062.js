import{al as e,am as r}from"./index.91f06233.js";import{d as a,c as t,a as n,F as o}from"./vendor.4e3c54b7.js";var l=Object.defineProperty,i=Object.defineProperties,p=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,c=(e,r,a)=>r in e?l(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,u=(e,r)=>{for(var a in r||(r={}))s.call(r,a)&&c(e,a,r[a]);if(m)for(var a of m(r))d.call(r,a)&&c(e,a,r[a]);return e};const g=a({name:"VeDragSort",props:u({itemKey:[String,Function]},e()),emits:{"update:modelValue":e=>!0,change:e=>!0},setup(e,{slots:a}){const{items:l,makeDrag:m,makeDragArea:s}=r(e),d=t((()=>l.value.map(((e,r)=>{return a=u(u({},m(r)),s(r)),i(a,p({item:e}));var a})))),{dragAreaOn:c}=s();return()=>{var r,t;return n(o,null,[null==(r=a.prepend)?void 0:r.call(a,{dragAreaOn:c,on:c}),d.value.flatMap((({item:r,dragOn:t,dragNode:n,dragAreaOn:o},l)=>{var i;return null==(i=a.item)?void 0:i.call(a,{item:r,index:l,dragOn:t,dragAreaOn:o,on:u(u({},t),o)}).map((a=>(e.itemKey&&(a.key="function"==typeof e.itemKey?e.itemKey(r,l):r[e.itemKey]),a)))})),null==(t=a.append)?void 0:t.call(a,{dragAreaOn:c,on:c})])}}});export{g as D};
