import{ao as e,ap as r}from"./index.d9a55cbb.js";import{d as a,c as t,a as n,F as o}from"./vendor.eb4d73a9.js";var i=Object.defineProperty,l=Object.defineProperties,p=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(e,r,a)=>r in e?i(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,u=(e,r)=>{for(var a in r||(r={}))m.call(r,a)&&c(e,a,r[a]);if(d)for(var a of d(r))s.call(r,a)&&c(e,a,r[a]);return e};const g=a({name:"VeDragSort",props:u({itemKey:[String,Function]},e()),emits:{"update:modelValue":e=>!0,change:e=>!0},setup(e,{slots:a}){const{items:i,makeDrag:d,makeDragArea:m}=r(e),s=t((()=>i.value.map(((e,r)=>{return a=u(u({},d(r)),m(r)),l(a,p({item:e}));var a})))),{dragAreaOn:c}=m();return()=>{var r,t;return n(o,null,[null==(r=a.prepend)?void 0:r.call(a,{dragAreaOn:c,on:c}),s.value.flatMap((({item:r,dragOn:t,dragNode:n,dragAreaOn:o},i)=>{var l;return null==(l=a.item)?void 0:l.call(a,{item:r,index:i,dragOn:t,dragAreaOn:o,on:u(u({},t),o)}).map((a=>(e.itemKey&&(a.key="function"==typeof e.itemKey?e.itemKey(r,i):r[e.itemKey]),a)))})),null==(t=a.append)?void 0:t.call(a,{dragAreaOn:c,on:c})])}}});export{g as D};
