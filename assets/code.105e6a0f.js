import{e,u as l,f as a}from"./index.d88d629a.js";import{r as n,a as o,m as r,e as s,j as t,R as u}from"./vendor.b3232dc0.js";const i=e({name:"VeCode",props:{value:String,language:{type:String,default:"html"},showLanguage:{type:Boolean,default:!0},showLineNumbers:Boolean,highlightedLineNumbers:Array,highlightedLineBgColor:{type:String,default:"warning"},color:{type:String,default:"secondary"}},setup(e,{slots:i}){const d=l(),{backgroundColorClasses:c,backgroundColorStyles:v}=a(e,"color"),{backgroundColorClasses:g,backgroundColorStyles:h}=a(e,"highlightedLineBgColor"),p=n(null),m=o((()=>{var l;return decodeURIComponent(null!=(l=e.value)?l:"").replace(/\n$/,"").replace(/^\n/,"")})),y=o((()=>m.value.split("\n").map(((e,l)=>l+1)))),f=o((()=>y.value.filter((l=>{var a;return null==(a=e.highlightedLineNumbers)?void 0:a.some((e=>{let a,n=e;return"object"==typeof e&&([n,a]=e),n&&a?l>=n&&l<=a:l===n}))}))));function _(){return l=this,a=null,n=function*(){var l;const a=p.value;a&&(a.innerHTML=yield null==(l=d.value)?void 0:l.highlight(m.value,e.language))},new Promise(((e,o)=>{var r=e=>{try{t(n.next(e))}catch(l){o(l)}},s=e=>{try{t(n.throw(e))}catch(l){o(l)}},t=l=>l.done?e(l.value):Promise.resolve(l.value).then(r,s);t((n=n.apply(l,a)).next())}));var l,a,n}return r(_),s((()=>e.language),_),s(m,_),()=>{const l=!!m.value,a=l&&e.showLineNumbers,n=l&&e.showLanguage&&e.language,o=l;return t(l?"div":"code",{class:["ve-code",{"ve-code--highlighted":l,"ve-code--show-line-numbers":a},c.value],style:v.value},{default:()=>{var l;return[a&&t("div",{class:"ve-code__lines"},[y.value.map((e=>t("div",{class:["ve-code__line",{"ve-code__line--highlighted":f.value.includes(e)}]},[t("div",{class:["ve-code__line-overlay",g.value],style:h.value},[u("#")],6),t("span",{class:"ve-code__line-number"},[e])],2)))]),o&&t("pre",{class:"ve-code__preformatted"},[t("code",{ref:p},[m.value],512)]),n&&t("span",{class:"ve-code__language"},[e.language]),null==(l=i.default)?void 0:l.call(i)]},_:1},8,["class","style"])}}});export{i as C};
