import{ao as e,ap as r}from"./index.17c21b9b.js";import{d as a,c as t,b as n,F as o}from"./vendor.2cc6d4f3.js";var i=Object.defineProperty,l=Object.defineProperties,p=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(e,r,a)=>r in e?i(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,u=(e,r)=>{for(var a in r||(r={}))d.call(r,a)&&c(e,a,r[a]);if(m)for(var a of m(r))s.call(r,a)&&c(e,a,r[a]);return e};const g=a({name:"VeDragSort",props:u({itemKey:[String,Function]},e()),emits:{"update:modelValue":e=>!0,change:e=>!0},setup(e,{slots:a}){const{items:i,makeDrag:m,makeDragArea:d}=r(e),s=t((()=>i.value.map(((e,r)=>{return a=u(u({},m(r)),d(r)),l(a,p({item:e}));var a})))),{dragAreaOn:c}=d();return()=>{var r,t;return n(o,null,[null==(r=a.prepend)?void 0:r.call(a,{dragAreaOn:c,on:c}),s.value.flatMap((({item:r,dragOn:t,dragNode:n,dragAreaOn:o},i)=>{var l;return null==(l=a.item)?void 0:l.call(a,{item:r,index:i,dragOn:t,dragAreaOn:o,on:u(u({},t),o)}).map((a=>(e.itemKey&&(a.key="function"==typeof e.itemKey?e.itemKey(r,i):r[e.itemKey]),a)))})),null==(t=a.append)?void 0:t.call(a,{dragAreaOn:c,on:c})])}}});export{g as D};
