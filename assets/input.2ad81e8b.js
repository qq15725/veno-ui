import{b as ie,a as g,j as r,q as k,L as T,r as y,w as ce,m as se,e as O,o as de,n as S,F as H,a2 as M,v as z,a3 as ve,D as fe}from"./vendor.4605c240.js";import{W as pe,X as G,Z as me,l as q,p as L,F as W,g as X,x as Z,I as J,B as _e,a1 as ye,a2 as xe,A as ge}from"./app.5f4a9383.js";import{m as he,f as be,F as Ie}from"./form-control.6a79a0d0.js";import{I as Pe}from"./index.d03f4eee.js";var we=Object.defineProperty,K=Object.getOwnPropertySymbols,Ce=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable,Q=(e,n,t)=>n in e?we(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Oe=(e,n)=>{for(var t in n||(n={}))Ce.call(n,t)&&Q(e,t,n[t]);if(K)for(var t of K(n))ke.call(n,t)&&Q(e,t,n[t]);return e};const Se=ie({name:"VeCounter",functional:!0,props:Oe({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0}},pe({transition:{component:G}})),setup(e,{slots:n}){const t=g(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return()=>r(me,{transition:e.transition},{default:()=>[k(r("div",{class:"ve-counter"},[n.default?n.default({counter:t.value,max:e.max,value:e.value}):t.value],512),[[T,e.active]])]},8,["transition"])}});var Fe=Object.defineProperty,Ve=Object.defineProperties,Be=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,$e=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable,ee=(e,n,t)=>n in e?Fe(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ne=(e,n)=>{for(var t in n||(n={}))$e.call(n,t)&&ee(e,t,n[t]);if(Y)for(var t of Y(n))je.call(n,t)&&ee(e,t,n[t]);return e},Ne=(e,n)=>Ve(e,Be(n));function Re(e){return q(e,Object.keys(re.props))}const te=L({prefix:String,prefixIcon:String,suffix:String,suffixIcon:String,clearable:Boolean,clearIcon:{type:String,default:"$clear"},disabled:Boolean},"input-control"),re=W()({name:"VeInputControl",props:ne({active:Boolean,dirty:Boolean},te()),emits:{"click:clear":e=>!0,"click:prepend-inner":e=>!0,"click:prefix":e=>!0,"click:suffix":e=>!0,"click:append-inner":e=>!0,"click:control":e=>!0,"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,{slots:n,emit:t}){const h=X(e,"active"),s=y(!1),b=y(),I=y();ce(()=>h.value=s.value||e.dirty);function l(){s.value=!0}function R(){s.value=!1}const d=g(()=>({isActive:h.value,isDirty:e.dirty,isFocused:s.value,controlRef:b,inputRef:I,focus:l,blur:R}));function F(v){v.target!==document.activeElement&&v.preventDefault(),t("click:control",v)}return Z(()=>{var v,V,B,P,$,w,f,p,m;const a=!!n.prependInner,o=n.prefix||e.prefix||e.prefixIcon,i=!!(e.clearable||n.clear),c=n.suffix||e.suffix||e.suffixIcon,x=!!n.appendInner;return r("div",{class:["ve-input-control",{"ve-input-control--active":h.value,"ve-input-control--disabled":e.disabled,"ve-input-control--dirty":e.dirty,"ve-input-control--focused":s.value,"ve-input-control--prepended":a,"ve-input-control--prefixed":o,"ve-input-control--suffixed":i||c,"ve-input-control--appended":x}],onClick:F},[a&&r("div",{class:"ve-input-control__prepend-inner",onClick:u=>t("click:prepend-inner",u)},[(v=n.prependInner)==null?void 0:v.call(n,d.value)],8,["onClick"]),r("div",{class:"ve-input-control__input"},[o&&r("span",{class:"ve-input-control__prefix",onClick:u=>t("click:prefix",u)},[(P=(B=(V=n.prefix)==null?void 0:V.call(n,d.value))!=null?B:e.prefix)!=null?P:r(J,{icon:e.prefixIcon},null,8,["icon"])],8,["onClick"]),($=n.default)==null?void 0:$.call(n,Ne(ne({},d.value),{props:{class:"ve-native-control"}})),i&&r(G,null,{default:()=>{var u,j;return[k(r("div",{class:"ve-input-control__clearable",onClick:N=>t("click:clear",N)},[(j=(u=n.clear)==null?void 0:u.call(n,d.value))!=null?j:r(_e,{icon:e.clearIcon,color:"transparent"},null,8,["icon"])],8,["onClick"]),[[T,e.dirty]])]}}),c&&r("span",{class:"ve-input-control__suffix",onClick:u=>t("click:suffix",u)},[(p=(f=(w=n.suffix)==null?void 0:w.call(n,d.value))!=null?f:e.suffix)!=null?p:r(J,{icon:e.suffixIcon},null,8,["icon"])],8,["onClick"])]),x&&r("div",{class:"ve-input-control__append-inner",onClick:u=>t("click:append-inner",u)},[(m=n.appendInner)==null?void 0:m.call(n,d.value)],8,["onClick"])],10,["onClick"])}),{inputRef:I,controlRef:b}}});var Ue=Object.defineProperty,ae=Object.getOwnPropertySymbols,De=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable,oe=(e,n,t)=>n in e?Ue(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,le=(e,n)=>{for(var t in n||(n={}))De.call(n,t)&&oe(e,t,n[t]);if(ae)for(var t of ae(n))Ae.call(n,t)&&oe(e,t,n[t]);return e};const Ee=["color","file","time","date","datetime-local","week","month"],Te=L(le(le({id:String,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,persistentCounter:Boolean,placeholder:String,type:{type:String,default:"text"},autoGrow:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))}},he()),te()),"input");function Le(e){return q(e,Object.keys(He.props))}const He=W()({name:"VeInput",inheritAttrs:!1,directives:{Intersect:Pe},props:Te(),emits:{"update:modelValue":e=>!0,"click:control":e=>!0},setup(e,{attrs:n,slots:t,emit:h}){const s=y(),b=y(),I=y("auto"),l=X(e,"modelValue"),R=ye(),d=g(()=>e.id||`ve-input-${R}`),F=y(!1),v=g(()=>F.value||!!l.value||Ee.includes(e.type)),V=g(()=>typeof e.counterValue=="function"?e.counterValue(l.value):(l.value||"").toString().length),B=g(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function P(){var a,o;(o=(a=s.value)==null?void 0:a.inputRef)==null||o.focus()}function $(){var a,o;(o=(a=s.value)==null?void 0:a.inputRef)==null||o.blur()}function w(a,o){var i,c;!e.autofocus||!a||(c=(i=o[0].target)==null?void 0:i.focus)==null||c.call(i)}const f=y();function p(){!e.autoGrow||fe(()=>{if(!f.value)return;const a=getComputedStyle(f.value),o=parseFloat(a.getPropertyValue("--ve-native-control-padding-top"))+parseFloat(a.getPropertyValue("--ve-native-control-padding-bottom")),i=f.value.scrollHeight,c=parseFloat(a.lineHeight),x=parseFloat(String(e.rows))*c+o,u=parseFloat(String(e.maxRows))*c+o||1/0;I.value=ge(Math.min(u,Math.max(x,i!=null?i:0)))})}se(p),O(l,p),O(()=>e.density,p),O(()=>e.rows,p),O(()=>e.maxRows,p);let m;return O(f,a=>{a?(m=new ResizeObserver(p),m.observe(f.value)):m==null||m.disconnect()}),de(()=>{m==null||m.disconnect()}),Z(()=>{const a=e.type==="textarea",o=!!(t.counter||e.counter||e.counterValue),[i,c]=xe(n),[x]=be(e),[u]=Re(e),j=a?{"--ve-form-control-height":I.value}:{};return r(Ie,S(x,{ref:b,class:["ve-input",{"ve-input--textarea":a,"ve-input--auto-grow":e.autoGrow,"ve-input--no-resize":e.noResize||e.autoGrow}],"label-id":d.value,style:j,role:"textbox"},i),{prepend:t.prepend,label:t.label,default:({isDisabled:N,isReadonly:D,props:ue})=>r(re,S(u,{ref:s,dirty:!!l.value,active:v.value,"onUpdate:active":_=>{F.value=_},"onClick:clear":_=>{_.stopPropagation(),l.value=""},"onClick:control":_=>{P(),h("click:control",_)}},ue),{prependInner:t.prependInner,prefix:t.prefix,default:({inputRef:_,focus:A,blur:E,props:U})=>a?r(H,null,[k(r("textarea",S({"onUpdate:modelValue":C=>l.value=C,ref:_,autofocus:e.autofocus,readonly:D.value,disabled:N.value,id:d.value,placeholder:e.placeholder,rows:e.rows,onFocus:A,onBlur:E},U,c),null,16,["onUpdate:modelValue","autofocus","readonly","disabled","id","placeholder","rows","onFocus","onBlur"]),[[M,l.value],[z("intersect"),{handler:w},null,{once:!0}]]),e.autoGrow&&k(r("textarea",S({class:["ve-input__sizer"],"onUpdate:modelValue":C=>l.value=C,ref:f,readonly:!0,"aria-hidden":"true"},U),null,16,["onUpdate:modelValue","readonly"]),[[M,l.value]])]):k(r("input",S({"onUpdate:modelValue":C=>l.value=C,ref:_,autofocus:e.autofocus,readonly:D.value,disabled:N.value,id:d.value,type:e.type,placeholder:e.placeholder,onFocus:A,onBlur:E},U,c),null,16,["onUpdate:modelValue","autofocus","readonly","disabled","id","type","placeholder","onFocus","onBlur"]),[[z("intersect"),{handler:w},null,{once:!0}],[ve,l.value]]),suffix:t.suffix,appendInner:t.appendInner,clear:t.clear},16,["dirty","active","onUpdate:active","onClick:clear","onClick:control"]),append:t.append,details:o?()=>r(H,null,[r("span",null,null),r(Se,{active:e.persistentCounter||v.value,value:V.value,max:B.value},t.counter,8,["active","value","max"])]):void 0},16,["class","label-id","style"])}),{formControlRef:b,inputControlRef:s,blur:$,focus:P}}});export{He as I,Le as f,Te as m};
