import{c as e,h as l,p as a,i as o,r as n,a as t,n as u,a3 as r,m as s}from"./vendor.4e3c54b7.js";import{p as i,e as c,z as v,H as d,h as p,J as m,K as f,L as y,w as b,d as g,i as S,g as V,l as C,E as I,I as B,S as x}from"./index.1caa3696.js";import{L as h}from"./label.d5f92d9e.js";const j=Symbol.for("veno-ui:selection-control-group"),O=i({id:String,inline:Boolean,name:String,falseIcon:String,trueIcon:String,multiple:{type:Boolean,default:null},disabled:Boolean,readonly:Boolean,type:String,modelValue:null},"selection-control-group"),w=o=>{const n=c(o,"modelValue"),t=v(),u=e((()=>o.id||`selection-control-group-${t}`)),r=e((()=>o.name||u.value)),s=e((()=>!!o.multiple||null==o.multiple&&Array.isArray(n.value))),i={disabled:l(o,"disabled"),inline:l(o,"inline"),modelValue:n,multiple:s,id:u,name:r,falseIcon:l(o,"falseIcon"),trueIcon:l(o,"trueIcon"),readonly:l(o,"readonly"),type:l(o,"type")};return a(j,i),i};var A=Object.defineProperty,F=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,P=(e,l,a)=>l in e?A(e,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[l]=a,E=(e,l)=>{for(var a in l||(l={}))_.call(l,a)&&P(e,a,l[a]);if(F)for(var a of F(l))k.call(l,a)&&P(e,a,l[a]);return e};const L=i(E(E({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,label:String,falseIcon:String,trueIcon:String,multiple:{type:Boolean,default:null},name:String,readonly:Boolean,trueValue:null,falseValue:null,modelValue:null,type:String,value:null,valueComparator:{type:Function,default:p}},m()),d()),"selection-control");function U(e){return S(e,Object.keys($.props))}const $=V()({name:"VeSelectionControl",inheritAttrs:!1,props:L(),emits:{"update:modelValue":e=>!0},setup(l,{attrs:a,slots:i}){const{densityClasses:d,group:p,icon:m,model:S,textColorClasses:V,textColorStyles:O,trueValue:w}=function(l,a=f()){const n=o(j,void 0),{densityClasses:t}=y(l,a),u=c(l,"modelValue"),r=e((()=>void 0!==l.trueValue?l.trueValue:void 0!==l.value?l.value:void 0===l.label||l.label)),s=e((()=>void 0!==l.falseValue&&l.falseValue)),i=e((()=>(null==n?void 0:n.multiple.value)||!!l.multiple||null==l.multiple&&Array.isArray(u.value))),v=e({get(){const e=n?n.modelValue.value:u.value;return i.value?(e||[]).some((e=>l.valueComparator(e,r.value))):l.valueComparator(e,r.value)},set(e){const a=e?r.value:s.value;let o=a;if(i.value){const t=n?n.modelValue.value:u.value;o=e?[...b(t),a]:b(t).filter((e=>!l.valueComparator(e,r.value)))}n?n.modelValue.value=o:u.value=o}}),{textColorClasses:d,textColorStyles:p}=g(e((()=>v.value?l.color:void 0))),m=e((()=>{var e,a;return v.value?null!=(e=null==n?void 0:n.trueIcon.value)?e:l.trueIcon:null!=(a=null==n?void 0:n.falseIcon.value)?a:l.falseIcon}));return{group:n,densityClasses:t,trueValue:r,falseValue:s,model:v,textColorClasses:d,textColorStyles:p,icon:m}}(l),A=v(),F=e((()=>l.id||`input-${A}`)),_=n(!1),k=n(!1),P=n();function E(e){_.value=!0,(!x||x&&e.target.matches(":focus-visible"))&&(k.value=!0)}function L(){_.value=!1,k.value=!1}return C((()=>{var e,o,n,c;const v={label:l.label,model:S,textColorClasses:V,textColorStyles:O,props:{onFocus:E,onBlur:L,id:F.value}},f=null!=(e=null==p?void 0:p.type.value)?e:l.type,y=!(!i.label&&!l.label),[b,g]=I(a);return t("div",s(b,{class:["ve-selection-control",{"ve-selection-control--dirty":S.value,"ve-selection-control--disabled":l.disabled,"ve-selection-control--error":l.error,"ve-selection-control--focused":_.value,"ve-selection-control--focus-visible":k.value,"ve-selection-control--inline":(null==p?void 0:p.inline.value)||l.inline},d.value,V.value]}),[t("div",{class:"ve-selection-control__wrapper"},[null==(o=i.default)?void 0:o.call(i,v),t("div",{class:"ve-selection-control__input",style:O.value},[m.value&&t(B,{icon:m.value},null,8,["icon"]),null==(n=i.input)?void 0:n.call(i,v),u(t("input",s({class:"ve-native-control",ref:P,"onUpdate:modelValue":e=>S.value=e,disabled:l.disabled,id:F.value,onBlur:L,onFocus:E,readonly:l.readonly,type:f,value:w.value,name:null!=(c=null==p?void 0:p.name.value)?c:l.name,"aria-checked":"checkbox"===f?S.value:void 0},g),null,16,["onUpdate:modelValue","disabled","id","onBlur","onFocus","readonly","type","value","name","aria-checked"]),[[r,S.value]])],4)]),y&&t(h,{for:F.value},{default:()=>{var e;return[l.label,null==(e=i.label)?void 0:e.call(i,v)]},_:1},8,["for"])],16)})),{isFocused:_,inputRef:P}}});export{$ as S,O as a,U as f,L as m,w as u};
